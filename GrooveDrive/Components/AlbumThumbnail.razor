@using Microsoft.Graph

@if (!string.IsNullOrWhiteSpace(url))
{
    <div role="img" style="background-image: url('@url');" class="album-thumbnail ratio ratio-1x1 @CssClass" @attributes="AdditionalAttributes"></div>
}
else
{
    <div class="album-thumbnail ratio ratio-1x1 @CssClass" @attributes="AdditionalAttributes">
        <span class="oi oi-musical-note fs-6" aria-hidden="true"></span>
    </div>
}

@code {
    [Parameter, EditorRequired]
    public DriveItem Item { get; set; }

    [Parameter]
    public string? CssClass { get; set; }
    
    [Parameter(CaptureUnmatchedValues = true)]
    public IDictionary<string, object>? AdditionalAttributes { get; set; }

    private string? url => Item?.Thumbnails?.CurrentPage?.Count > 0 ? Item.Thumbnails.CurrentPage[0].Large?.Url : null;
}
